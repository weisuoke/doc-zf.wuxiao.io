(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[92],{pNk8:function(e,n,a){"use strict";a.r(n);var l=a("q1tI"),t=a.n(l),c=a("dEAq"),i=a("H1Ra"),r=t.a.memo((e=>{e.demos;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u4ee3\u7801\u5206\u5272"},t.a.createElement(c["AnchorLink"],{to:"#\u4ee3\u7801\u5206\u5272","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u5206\u5272"),t.a.createElement("h2",{id:"1-\u4ee3\u7801\u5206\u5272"},t.a.createElement(c["AnchorLink"],{to:"#1-\u4ee3\u7801\u5206\u5272","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"1. \u4ee3\u7801\u5206\u5272"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5bf9\u4e8e\u5927\u7684Web\u5e94\u7528\u6765\u8bb2\uff0c\u5c06\u6240\u6709\u7684\u4ee3\u7801\u90fd\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u663e\u7136\u662f\u4e0d\u591f\u6709\u6548\u7684\uff0c\u7279\u522b\u662f\u5f53\u4f60\u7684\u67d0\u4e9b\u4ee3\u7801\u5757\u662f\u5728\u67d0\u4e9b\u7279\u6b8a\u7684\u65f6\u5019\u624d\u4f1a\u88ab\u7528\u5230\u3002"),t.a.createElement("li",null,"webpack\u6709\u4e00\u4e2a\u529f\u80fd\u5c31\u662f\u5c06\u4f60\u7684\u4ee3\u7801\u5e93\u5206\u5272\u6210chunks\u8bed\u5757\uff0c\u5f53\u4ee3\u7801\u8fd0\u884c\u5230\u9700\u8981\u5b83\u4eec\u7684\u65f6\u5019\u518d\u8fdb\u884c\u52a0\u8f7d")),t.a.createElement("h2",{id:"2-\u5165\u53e3\u70b9\u5206\u5272"},t.a.createElement(c["AnchorLink"],{to:"#2-\u5165\u53e3\u70b9\u5206\u5272","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"2. \u5165\u53e3\u70b9\u5206\u5272"),t.a.createElement("ul",null,t.a.createElement("li",null,"Entry Points\uff1a\u5165\u53e3\u6587\u4ef6\u8bbe\u7f6e\u7684\u65f6\u5019\u53ef\u4ee5\u914d\u7f6e"),t.a.createElement("li",null,"\u8fd9\u79cd\u65b9\u6cd5\u7684\u95ee\u9898",t.a.createElement("ul",null,t.a.createElement("li",null,"\u5982\u679c\u5165\u53e3 chunks \u4e4b\u95f4\u5305\u542b\u91cd\u590d\u7684\u6a21\u5757(lodash)\uff0c\u90a3\u4e9b\u91cd\u590d\u6a21\u5757\u90fd\u4f1a\u88ab\u5f15\u5165\u5230\u5404\u4e2a bundle \u4e2d"),t.a.createElement("li",null,"\u4e0d\u591f\u7075\u6d3b\uff0c\u5e76\u4e14\u4e0d\u80fd\u5c06\u6838\u5fc3\u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u8fdb\u884c\u52a8\u6001\u62c6\u5206\u4ee3\u7801")))),t.a.createElement(i["a"],{code:'{\n  entry: {\n   page1: "./src/page1.js",\n   page2: "./src/page2.js"\n  }\n}',lang:"js"}),t.a.createElement("p",null,t.a.createElement(c["Link"],{to:"https://static.zhufengpeixun.com/http_xie_yi_rfc2616_zhong_ying_wen_shuang_ban_1637749432228.zip"},"https://static.zhufengpeixun.com/http_xie_yi_rfc2616_zhong_ying_wen_shuang_ban_1637749432228.zip")),t.a.createElement("h2",{id:"3-\u52a8\u6001\u5bfc\u5165\u548c\u61d2\u52a0\u8f7d"},t.a.createElement(c["AnchorLink"],{to:"#3-\u52a8\u6001\u5bfc\u5165\u548c\u61d2\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3 \u52a8\u6001\u5bfc\u5165\u548c\u61d2\u52a0\u8f7d"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u7528\u6237\u5f53\u524d\u9700\u8981\u7528\u4ec0\u4e48\u529f\u80fd\u5c31\u53ea\u52a0\u8f7d\u8fd9\u4e2a\u529f\u80fd\u5bf9\u5e94\u7684\u4ee3\u7801\uff0c\u4e5f\u5c31\u662f\u6240\u8c13\u7684\u6309\u9700\u52a0\u8f7d \u5728\u7ed9\u5355\u9875\u5e94\u7528\u505a\u6309\u9700\u52a0\u8f7d\u4f18\u5316\u65f6"),t.a.createElement("li",null,"\u4e00\u822c\u91c7\u7528\u4ee5\u4e0b\u539f\u5219\uff1a",t.a.createElement("ul",null,t.a.createElement("li",null,"\u5bf9\u7f51\u7ad9\u529f\u80fd\u8fdb\u884c\u5212\u5206\uff0c\u6bcf\u4e00\u7c7b\u4e00\u4e2achunk"),t.a.createElement("li",null,"\u5bf9\u4e8e\u9996\u6b21\u6253\u5f00\u9875\u9762\u9700\u8981\u7684\u529f\u80fd\u76f4\u63a5\u52a0\u8f7d\uff0c\u5c3d\u5feb\u5c55\u793a\u7ed9\u7528\u6237,\u67d0\u4e9b\u4f9d\u8d56\u5927\u91cf\u4ee3\u7801\u7684\u529f\u80fd\u70b9\u53ef\u4ee5\u6309\u9700\u52a0\u8f7d"),t.a.createElement("li",null,"\u88ab\u5206\u5272\u51fa\u53bb\u7684\u4ee3\u7801\u9700\u8981\u4e00\u4e2a\u6309\u9700\u52a0\u8f7d\u7684\u65f6\u673a")))),t.a.createElement("h3",{id:"31-hellojs"},t.a.createElement(c["AnchorLink"],{to:"#31-hellojs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.1 hello.js"),t.a.createElement("p",null,"hello.js"),t.a.createElement(i["a"],{code:'module.exports = "hello";',lang:"js"}),t.a.createElement("p",null,"index.js"),t.a.createElement(i["a"],{code:"document.querySelector('#clickBtn').addEventListener('click',() => {\n    import('./hello').then(result => {\n        console.log(result.default);\n    });\n});",lang:"js"}),t.a.createElement("p",null,"index.html"),t.a.createElement(i["a"],{code:'<button id="clickBtn">\u70b9\u6211</button>',lang:"html"}),t.a.createElement("h3",{id:"32-preload\u9884\u5148\u52a0\u8f7d"},t.a.createElement(c["AnchorLink"],{to:"#32-preload\u9884\u5148\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.2 preload(\u9884\u5148\u52a0\u8f7d)"),t.a.createElement("ul",null,t.a.createElement("li",null,"preload\u901a\u5e38\u7528\u4e8e\u672c\u9875\u9762\u8981\u7528\u5230\u7684\u5173\u952e\u8d44\u6e90\uff0c\u5305\u62ec\u5173\u952ejs\u3001\u5b57\u4f53\u3001css\u6587\u4ef6"),t.a.createElement("li",null,"preload\u5c06\u4f1a\u628a\u8d44\u6e90\u5f97\u4e0b\u8f7d\u987a\u5e8f\u6743\u91cd\u63d0\u9ad8\uff0c\u4f7f\u5f97\u5173\u952e\u6570\u636e\u63d0\u524d\u4e0b\u8f7d\u597d,\u4f18\u5316\u9875\u9762\u6253\u5f00\u901f\u5ea6"),t.a.createElement("li",null,"\u5728\u8d44\u6e90\u4e0a\u6dfb\u52a0\u9884\u5148\u52a0\u8f7d\u7684\u6ce8\u91ca\uff0c\u4f60\u6307\u660e\u8be5\u6a21\u5757\u9700\u8981\u7acb\u5373\u88ab\u4f7f\u7528"),t.a.createElement("li",null,"\u4e00\u4e2a\u8d44\u6e90\u7684\u52a0\u8f7d\u7684\u4f18\u5148\u7ea7\u88ab\u5206\u4e3a\u4e94\u4e2a\u7ea7\u522b,\u5206\u522b\u662f",t.a.createElement("ul",null,t.a.createElement("li",null,"Highest \u6700\u9ad8"),t.a.createElement("li",null,"High \u9ad8"),t.a.createElement("li",null,"Medium \u4e2d\u7b49"),t.a.createElement("li",null,"Low \u4f4e"),t.a.createElement("li",null,"Lowest \u6700\u4f4e"))),t.a.createElement("li",null,"\u5f02\u6b65/\u5ef6\u8fdf/\u63d2\u5165\u7684\u811a\u672c\uff08\u65e0\u8bba\u5728\u4ec0\u4e48\u4f4d\u7f6e\uff09\u5728\u7f51\u7edc\u4f18\u5148\u7ea7\u4e2d\u662f ",t.a.createElement("code",null,"Low")),t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://github.com/vuejs/preload-webpack-plugin"},"@vue/preload-webpack-plugin")),t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://www.npmjs.com/package/preload-webpack-plugin"},"preload-webpack-plugin npm"))),t.a.createElement(i["a"],{code:"$ npm install --save-dev @vue/preload-webpack-plugin",lang:"js"}),t.a.createElement("p",null,t.a.createElement("img",{src:"http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-27-011024.png",alt:"prefetchpreload"})),t.a.createElement(i["a"],{code:'<link rel="preload" as="script" href="utils.js">\nimport(\n  `./utils.js`\n  /* webpackPreload: true */\n  /* webpackChunkName: "utils" */\n)',lang:"js"}),t.a.createElement("h3",{id:"33-prefetch\u9884\u5148\u62c9\u53d6"},t.a.createElement(c["AnchorLink"],{to:"#33-prefetch\u9884\u5148\u62c9\u53d6","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.3 prefetch(\u9884\u5148\u62c9\u53d6)"),t.a.createElement("ul",null,t.a.createElement("li",null,"prefetch \u8ddf preload \u4e0d\u540c\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u544a\u8bc9\u6d4f\u89c8\u5668\u672a\u6765\u53ef\u80fd\u4f1a\u4f7f\u7528\u5230\u7684\u67d0\u4e2a\u8d44\u6e90\uff0c\u6d4f\u89c8\u5668\u5c31\u4f1a\u5728\u95f2\u65f6\u53bb\u52a0\u8f7d\u5bf9\u5e94\u7684\u8d44\u6e90\uff0c\u82e5\u80fd\u9884\u6d4b\u5230\u7528\u6237\u7684\u884c\u4e3a\uff0c\u6bd4\u5982\u61d2\u52a0\u8f7d\uff0c\u70b9\u51fb\u5230\u5176\u5b83\u9875\u9762\u7b49\u5219\u76f8\u5f53\u4e8e\u63d0\u524d\u9884\u52a0\u8f7d\u4e86\u9700\u8981\u7684\u8d44\u6e90")),t.a.createElement(i["a"],{code:'<link rel="prefetch" href="utils.js" as="script">\nbutton.addEventListener(\'click\', () => {\n  import(\n    `./utils.js`\n    /* webpackPrefetch: true */\n    /* webpackChunkName: "utils" */\n  ).then(result => {\n    result.default.log(\'hello\');\n  })\n});',lang:"html"}),t.a.createElement("h3",{id:"34-preload-vs-prefetch"},t.a.createElement(c["AnchorLink"],{to:"#34-preload-vs-prefetch","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.4 preload vs prefetch"),t.a.createElement("ul",null,t.a.createElement("li",null,"preload \u662f\u544a\u8bc9\u6d4f\u89c8\u5668\u9875\u9762\u5fc5\u5b9a\u9700\u8981\u7684\u8d44\u6e90\uff0c\u6d4f\u89c8\u5668\u4e00\u5b9a\u4f1a\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90"),t.a.createElement("li",null,"\u800c prefetch \u662f\u544a\u8bc9\u6d4f\u89c8\u5668\u9875\u9762\u53ef\u80fd\u9700\u8981\u7684\u8d44\u6e90\uff0c\u6d4f\u89c8\u5668\u4e0d\u4e00\u5b9a\u4f1a\u52a0\u8f7d\u8fd9\u4e9b\u8d44\u6e90"),t.a.createElement("li",null,"\u6240\u4ee5\u5efa\u8bae\uff1a\u5bf9\u4e8e\u5f53\u524d\u9875\u9762\u5f88\u6709\u5fc5\u8981\u7684\u8d44\u6e90\u4f7f\u7528 preload,\u5bf9\u4e8e\u53ef\u80fd\u5728\u5c06\u6765\u7684\u9875\u9762\u4e2d\u4f7f\u7528\u7684\u8d44\u6e90\u4f7f\u7528 prefetch")),t.a.createElement(i["a"],{code:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Document</title>\n    <link rel="prefetch" href="prefetch.js?k=1" as="script">\n    <link rel="prefetch" href="prefetch.js?k=2" as="script">\n    <link rel="prefetch" href="prefetch.js?k=3" as="script">\n    <link rel="prefetch" href="prefetch.js?k=4" as="script">\n    <link rel="prefetch" href="prefetch.js?k=5" as="script">\n\n</head>\n<body>\n\n</body>\n<link rel="preload"  href="preload.js" as="script">\n</html>',lang:"js"}),t.a.createElement("h3",{id:"35-preload-webpack-pluginjs"},t.a.createElement(c["AnchorLink"],{to:"#35-preload-webpack-pluginjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"3.5 preload-webpack-plugin.js"),t.a.createElement("p",null,"preload-webpack-plugin.js"),t.a.createElement(i["a"],{code:"const HtmlWebpackPlugin = require('html-webpack-plugin')\n\nclass PreloadPlugin {\n    constructor(options) {\n        this.options = options;\n    }\n    generateLinks(compilation, htmlPluginData) {\n        const { rel, include } = this.options\n        let chunks = [...compilation.chunks]\n        if (include === undefined || include === 'asyncChunks') {\n            chunks = chunks.filter(chunk => !chunk.canBeInitial());\n        }\n        const allFiles = chunks.reduce((accumulated, chunk) => {\n            return accumulated.concat(...chunk.files);\n        }, [])\n        const uniqueFiles = new Set(allFiles);\n        const links = [];\n        for (const file of uniqueFiles) {\n            const href = `${file}`\n            const attributes = { href, rel };\n            links.push({\n                tagName: 'link',\n                attributes\n            })\n        }\n        this.resourceHints = links\n        return htmlPluginData\n    }\n    apply(compiler) {\n        compiler.hooks.compilation.tap(\n            this.constructor.name,\n            compilation => {\n                HtmlWebpackPlugin.getHooks(compilation).beforeAssetTagGeneration.tapAsync(\n                    this.constructor.name,\n                    (htmlPluginData, callback) => {\n                        this.generateLinks(compilation, htmlPluginData)\n                        callback();\n                    }\n                )\n                HtmlWebpackPlugin.getHooks(compilation).alterAssetTags.tap(\n                    this.constructor.name,\n                    (htmlPluginData) => {\n                        if (this.resourceHints) {\n                            htmlPluginData.assetTags.styles = [\n                                ...this.resourceHints,\n                                ...htmlPluginData.assetTags.styles\n                            ]\n                        }\n                        return htmlPluginData\n                    }\n                )\n            }\n        )\n    }\n}\nfunction isAsync(chunk) {\n    if ('canBeInitial' in chunk) {\n        return !chunk.canBeInitial()\n    } else {\n        return !chunk.isInitial()\n    }\n}\nmodule.exports = PreloadPlugin;",lang:"js"}),t.a.createElement("h2",{id:"4-\u63d0\u53d6\u516c\u5171\u4ee3\u7801"},t.a.createElement(c["AnchorLink"],{to:"#4-\u63d0\u53d6\u516c\u5171\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4. \u63d0\u53d6\u516c\u5171\u4ee3\u7801"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://webpack.js.org/plugins/split-chunks-plugin"},"split-chunks-plugin")),t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://webpack.docschina.org/plugins/split-chunks-plugin/"},"split-chunks-plugin")),t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk"},"common-chunk-and-vendor-chunk")),t.a.createElement("li",null,"\u600e\u4e48\u914d\u7f6e\u5355\u9875\u5e94\u7528?\u600e\u4e48\u914d\u7f6e\u591a\u9875\u5e94\u7528?")),t.a.createElement("h3",{id:"41-\u4e3a\u4ec0\u4e48\u9700\u8981\u63d0\u53d6\u516c\u5171\u4ee3\u7801"},t.a.createElement(c["AnchorLink"],{to:"#41-\u4e3a\u4ec0\u4e48\u9700\u8981\u63d0\u53d6\u516c\u5171\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.1 \u4e3a\u4ec0\u4e48\u9700\u8981\u63d0\u53d6\u516c\u5171\u4ee3\u7801"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u5927\u7f51\u7ad9\u6709\u591a\u4e2a\u9875\u9762\uff0c\u6bcf\u4e2a\u9875\u9762\u7531\u4e8e\u91c7\u7528\u76f8\u540c\u6280\u672f\u6808\u548c\u6837\u5f0f\u4ee3\u7801\uff0c\u4f1a\u5305\u542b\u5f88\u591a\u516c\u5171\u4ee3\u7801\uff0c\u5982\u679c\u90fd\u5305\u542b\u8fdb\u6765\u4f1a\u6709\u95ee\u9898"),t.a.createElement("li",null,"\u76f8\u540c\u7684\u8d44\u6e90\u88ab\u91cd\u590d\u7684\u52a0\u8f7d\uff0c\u6d6a\u8d39\u7528\u6237\u7684\u6d41\u91cf\u548c\u670d\u52a1\u5668\u7684\u6210\u672c\uff1b"),t.a.createElement("li",null,"\u6bcf\u4e2a\u9875\u9762\u9700\u8981\u52a0\u8f7d\u7684\u8d44\u6e90\u592a\u5927\uff0c\u5bfc\u81f4\u7f51\u9875\u9996\u5c4f\u52a0\u8f7d\u7f13\u6162\uff0c\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002"),t.a.createElement("li",null,"\u5982\u679c\u80fd\u628a\u516c\u5171\u4ee3\u7801\u62bd\u79bb\u6210\u5355\u72ec\u6587\u4ef6\u8fdb\u884c\u52a0\u8f7d\u80fd\u8fdb\u884c\u4f18\u5316\uff0c\u53ef\u4ee5\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93\u6d41\u91cf\uff0c\u964d\u4f4e\u670d\u52a1\u5668\u6210\u672c")),t.a.createElement("h3",{id:"42-\u5982\u4f55\u63d0\u53d6"},t.a.createElement(c["AnchorLink"],{to:"#42-\u5982\u4f55\u63d0\u53d6","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.2 \u5982\u4f55\u63d0\u53d6"),t.a.createElement("ul",null,t.a.createElement("li",null,"\u57fa\u7840\u7c7b\u5e93\uff0c\u65b9\u4fbf\u957f\u671f\u7f13\u5b58"),t.a.createElement("li",null,"\u9875\u9762\u4e4b\u95f4\u7684\u516c\u7528\u4ee3\u7801"),t.a.createElement("li",null,"\u5404\u4e2a\u9875\u9762\u5355\u72ec\u751f\u6210\u6587\u4ef6")),t.a.createElement("h3",{id:"43-module-chunk-bundle"},t.a.createElement(c["AnchorLink"],{to:"#43-module-chunk-bundle","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.3 module chunk bundle"),t.a.createElement("ul",null,t.a.createElement("li",null,"module\uff1a\u5c31\u662fjs\u7684\u6a21\u5757\u5316webpack\u652f\u6301commonJS\u3001ES6\u7b49\u6a21\u5757\u5316\u89c4\u8303\uff0c\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4f60\u901a\u8fc7import\u8bed\u53e5\u5f15\u5165\u7684\u4ee3\u7801"),t.a.createElement("li",null,"chunk: chunk\u662fwebpack\u6839\u636e\u529f\u80fd\u62c6\u5206\u51fa\u6765\u7684\uff0c\u5305\u542b\u4e09\u79cd\u60c5\u51b5",t.a.createElement("ul",null,t.a.createElement("li",null,"\u4f60\u7684\u9879\u76ee\u5165\u53e3\uff08entry\uff09"),t.a.createElement("li",null,"\u901a\u8fc7import()\u52a8\u6001\u5f15\u5165\u7684\u4ee3\u7801"),t.a.createElement("li",null,"\u901a\u8fc7splitChunks\u62c6\u5206\u51fa\u6765\u7684\u4ee3\u7801"))),t.a.createElement("li",null,"bundle\uff1abundle\u662fwebpack\u6253\u5305\u4e4b\u540e\u7684\u5404\u4e2a\u6587\u4ef6\uff0c\u4e00\u822c\u5c31\u662f\u548cchunk\u662f\u4e00\u5bf9\u4e00\u7684\u5173\u7cfb\uff0cbundle\u5c31\u662f\u5bf9chunk\u8fdb\u884c\u7f16\u8bd1\u538b\u7f29\u6253\u5305\u7b49\u5904\u7406\u4e4b\u540e\u7684\u4ea7\u51fa")),t.a.createElement("h3",{id:"44-splitchunks"},t.a.createElement(c["AnchorLink"],{to:"#44-splitchunks","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4 splitChunks"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://webpack.js.org/plugins/split-chunks-plugin"},"split-chunks-plugin")),t.a.createElement("li",null,"\u5c06",t.a.createElement(c["Link"],{to:"https://webpack.js.org/configuration/optimization/#optimizationruntimechunk"},"optimization.runtimeChunk"),"\u8bbe\u7f6e\u4e3a true \u6216 'multiple'\uff0c\u4f1a\u4e3a\u6bcf\u4e2a\u5165\u53e3\u6dfb\u52a0\u4e00\u4e2a\u53ea\u542b\u6709 runtime \u7684\u989d\u5916 chunk")),t.a.createElement("p",null,t.a.createElement("img",{src:"http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-27-011018.png",alt:"splitChunks"})),t.a.createElement("h4",{id:"441-webpackconfigjs"},t.a.createElement(c["AnchorLink"],{to:"#441-webpackconfigjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.1 webpack.config.js"),t.a.createElement(i["a"],{code:"const HtmlWebpackPlugin = require('html-webpack-plugin');\nconst AssetPlugin = require('./asset-plugin');\nmodule.exports = {\n    mode: 'development',\n    devtool: false,\n    entry: {\n        page1: \"./src/page1.js\",\n        page2: \"./src/page2.js\",\n        page3: \"./src/page3.js\",\n    },\n    optimization: {\n        splitChunks: {\n            // \u8868\u793a\u9009\u62e9\u54ea\u4e9b chunks \u8fdb\u884c\u5206\u5272\uff0c\u53ef\u9009\u503c\u6709\uff1aasync\uff0cinitial\u548call\n            chunks: 'all',\n            // \u8868\u793a\u65b0\u5206\u79bb\u51fa\u7684chunk\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8eminSize\uff0c\u9ed8\u8ba4\u4e3a30000\uff0c\u7ea630kb\u3002\n            minSize: 0,//\u9ed8\u8ba4\u503c\u662f20000,\u751f\u6210\u7684\u4ee3\u7801\u5757\u7684\u6700\u5c0f\u5c3a\u5bf8\n            // \u8868\u793a\u4e00\u4e2a\u6a21\u5757\u81f3\u5c11\u5e94\u88abminChunks\u4e2achunk\u6240\u5305\u542b\u624d\u80fd\u5206\u5272\u3002\u9ed8\u8ba4\u4e3a1\u3002\n            minChunks: 1,\n            // \u8868\u793a\u6309\u9700\u52a0\u8f7d\u6587\u4ef6\u65f6\uff0c\u5e76\u884c\u8bf7\u6c42\u7684\u6700\u5927\u6570\u76ee\u3002\u9ed8\u8ba4\u4e3a5\u3002\n            maxAsyncRequests: 3,\n            // \u8868\u793a\u52a0\u8f7d\u5165\u53e3\u6587\u4ef6\u65f6\uff0c\u5e76\u884c\u8bf7\u6c42\u7684\u6700\u5927\u6570\u76ee\u3002\u9ed8\u8ba4\u4e3a3\n            maxInitialRequests: 5,\n            // \u8868\u793a\u62c6\u5206\u51fa\u7684chunk\u7684\u540d\u79f0\u8fde\u63a5\u7b26\u3002\u9ed8\u8ba4\u4e3a~\u3002\u5982chunk~vendors.js\n            automaticNameDelimiter: '~',\n            cacheGroups: {\n                defaultVendors: {\n                    test: /[\\\\/]node_modules[\\\\/]/, //\u6761\u4ef6\n                    priority: -10 ///\u4f18\u5148\u7ea7\uff0c\u4e00\u4e2achunk\u5f88\u53ef\u80fd\u6ee1\u8db3\u591a\u4e2a\u7f13\u5b58\u7ec4\uff0c\u4f1a\u88ab\u62bd\u53d6\u5230\u4f18\u5148\u7ea7\u9ad8\u7684\u7f13\u5b58\u7ec4\u4e2d,\u4e3a\u4e86\u80fd\u591f\u8ba9\u81ea\u5b9a\u4e49\u7f13\u5b58\u7ec4\u6709\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7(\u9ed8\u8ba40),\u9ed8\u8ba4\u7f13\u5b58\u7ec4\u7684priority\u5c5e\u6027\u4e3a\u8d1f\u503c.\n                },\n                default: {\n                    minChunks: 2,////\u88ab\u591a\u5c11\u6a21\u5757\u5171\u4eab,\u5728\u5206\u5272\u4e4b\u524d\u6a21\u5757\u7684\u88ab\u5f15\u7528\u6b21\u6570\n                    priority: -20\n                },\n            },\n        },\n        runtimeChunk: true\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './src/index.html',\n            chunks: [\"page1\"],\n            filename: 'page1.html'\n        }),\n        new HtmlWebpackPlugin({\n            template: './src/index.html',\n            chunks: [\"page2\"],\n            filename: 'page2.html'\n        }),\n        new HtmlWebpackPlugin({\n            template: './src/index.html',\n            chunks: [\"page3\"],\n            filename: 'page3.html'\n        }),\n        new AssetPlugin()\n    ]\n}",lang:"js"}),t.a.createElement("h4",{id:"442-asset-pluginjs"},t.a.createElement(c["AnchorLink"],{to:"#442-asset-pluginjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.2 asset-plugin.js"),t.a.createElement(i["a"],{code:"class AssetPlugin {\n    constructor(options) {\n        this.options = options;\n    }\n    apply(compiler) {\n        compiler.hooks.compilation.tap('AssetPlugin', (compilation) => {\n            compilation.hooks.chunkAsset.tap('AssetPlugin', (chunk, filename) => {\n                console.log(chunk.name || chunk.id, filename);\n            });\n        });\n    }\n}\nmodule.exports = AssetPlugin;",lang:"js"}),t.a.createElement("h4",{id:"443-page1js"},t.a.createElement(c["AnchorLink"],{to:"#443-page1js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.3 page1.js"),t.a.createElement(i["a"],{code:"let module1 = require('./module1');\nlet module2 = require('./module2');\nlet $ = require('jquery');\nconsole.log(module1,module2,$);\nimport( /* webpackChunkName: \"asyncModule1\" */ './asyncModule1');",lang:"js"}),t.a.createElement("h4",{id:"444-page2js"},t.a.createElement(c["AnchorLink"],{to:"#444-page2js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.4 page2.js"),t.a.createElement(i["a"],{code:"let module1 = require('./module1');\nlet module2 = require('./module2');\nlet $ = require('jquery');\nconsole.log(module1,module2,$);",lang:"js"}),t.a.createElement("h4",{id:"445-page3js"},t.a.createElement(c["AnchorLink"],{to:"#445-page3js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.5 page3.js"),t.a.createElement(i["a"],{code:"let module1 = require('./module1');\nlet module3 = require('./module3');\nlet $ = require('jquery');\nconsole.log(module1,module3,$);",lang:"js"}),t.a.createElement("h4",{id:"446-module1js"},t.a.createElement(c["AnchorLink"],{to:"#446-module1js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.6 module1.js"),t.a.createElement(i["a"],{code:"module.exports = 'module1';",lang:"js"}),t.a.createElement("h4",{id:"447-module2js"},t.a.createElement(c["AnchorLink"],{to:"#447-module2js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.7 module2.js"),t.a.createElement(i["a"],{code:'console.log("module2");',lang:"js"}),t.a.createElement("h4",{id:"448-module3js"},t.a.createElement(c["AnchorLink"],{to:"#448-module3js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.8 module3.js"),t.a.createElement(i["a"],{code:'console.log("module3");',lang:"js"}),t.a.createElement("h4",{id:"449-asyncmodule1js"},t.a.createElement(c["AnchorLink"],{to:"#449-asyncmodule1js","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.9 asyncModule1.js"),t.a.createElement(i["a"],{code:"import _ from 'lodash';\nconsole.log(_);",lang:"js"}),t.a.createElement("h4",{id:"4410-\u6253\u5305\u540e\u7684\u7ed3\u679c"},t.a.createElement(c["AnchorLink"],{to:"#4410-\u6253\u5305\u540e\u7684\u7ed3\u679c","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.10 \u6253\u5305\u540e\u7684\u7ed3\u679c"),t.a.createElement(i["a"],{code:"page1 page1.js\npage2 page2.js\npage3 page3.js\nruntime~page1 runtime~page1.js\nruntime~page2 runtime~page2.js\nruntime~page3 runtime~page3.js\nasyncModule1 asyncModule1.js\ndefaultVendors-node_modules_jquery_dist_jquery_js defaultVendors-node_modules_jquery_dist_jquery_js.js\ndefaultVendors-node_modules_lodash_lodash_js defaultVendors-node_modules_lodash_lodash_js.js\ndefault-src_module1_js default-src_module1_js.js\ndefault-src_module2_js default-src_module2_js.js",lang:"js"}),t.a.createElement("h4",{id:"4411-\u8ba1\u7b97\u8fc7\u7a0b"},t.a.createElement(c["AnchorLink"],{to:"#4411-\u8ba1\u7b97\u8fc7\u7a0b","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.4.11 \u8ba1\u7b97\u8fc7\u7a0b"),t.a.createElement(i["a"],{code:"let page1Chunk= {\n    name:'page1',\n    modules:['A','B','C','lodash']\n}\n\nlet page2Chunk = {\n    name:'page2',\n    module:['C','D','E','lodash']\n}\n\nlet  cacheGroups= {\n    vendor: {\n      test: /lodash/,\n    },\n    default: {\n      minChunks: 2,\n    }\n};\n\nlet vendorChunk = {\n    name:`vendor~node_modules_lodash_js`,\n    modules:['lodash']\n}\nlet defaultChunk = {\n    name:`default~page1~page2`,\n    modules:['C']\n}",lang:"js"}),t.a.createElement("h3",{id:"45-reuseexistingchunk"},t.a.createElement(c["AnchorLink"],{to:"#45-reuseexistingchunk","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.5 reuseExistingChunk"),t.a.createElement("ul",null,t.a.createElement("li",null,t.a.createElement(c["Link"],{to:"https://webpack.js.org/plugins/split-chunks-plugin/#splitchunkscachegroupscachegroupreuseexistingchunk"},"reuseExistingChunk"),"\u8868\u793a\u5982\u679c\u5f53\u524d\u7684\u4ee3\u7801\u5305\u542b\u5df2\u7ecf\u88ab\u4ece\u4e3bbundle\u4e2d\u5206\u5272\u51fa\u53bb\u7684\u6a21\u5757\uff0c\u5b83\u5c06\u4f1a\u88ab\u91cd\u7528\uff0c\u800c\u4e0d\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u4ee3\u7801\u5757")),t.a.createElement("h4",{id:"451-indexjs"},t.a.createElement(c["AnchorLink"],{to:"#451-indexjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.5.1 index.js"),t.a.createElement(i["a"],{code:"",lang:"js"}),t.a.createElement("h4",{id:"452-webpackconfigjs"},t.a.createElement(c["AnchorLink"],{to:"#452-webpackconfigjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"4.5.2 webpack.config.js"),t.a.createElement(i["a"],{code:"const HtmlWebpackPlugin = require('html-webpack-plugin');\nconst AssetPlugin = require('./asset-plugin');\nmodule.exports = {\n    mode: 'development',\n    devtool: false,\n+   entry: './src/index.js',\n    optimization: {\n        splitChunks: {\n            // \u8868\u793a\u9009\u62e9\u54ea\u4e9b chunks \u8fdb\u884c\u5206\u5272\uff0c\u53ef\u9009\u503c\u6709\uff1aasync\uff0cinitial\u548call\n            chunks: 'all',\n            // \u8868\u793a\u65b0\u5206\u79bb\u51fa\u7684chunk\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8eminSize\uff0c\u9ed8\u8ba4\u4e3a30000\uff0c\u7ea630kb\u3002\n            minSize: 0,//\u9ed8\u8ba4\u503c\u662f20000,\u751f\u6210\u7684\u4ee3\u7801\u5757\u7684\u6700\u5c0f\u5c3a\u5bf8\n            // \u8868\u793a\u4e00\u4e2a\u6a21\u5757\u81f3\u5c11\u5e94\u88abminChunks\u4e2achunk\u6240\u5305\u542b\u624d\u80fd\u5206\u5272\u3002\u9ed8\u8ba4\u4e3a1\u3002\n            minChunks: 1,\n            // \u8868\u793a\u6309\u9700\u52a0\u8f7d\u6587\u4ef6\u65f6\uff0c\u5e76\u884c\u8bf7\u6c42\u7684\u6700\u5927\u6570\u76ee\u3002\u9ed8\u8ba4\u4e3a5\u3002\n            maxAsyncRequests: 3,\n            // \u8868\u793a\u52a0\u8f7d\u5165\u53e3\u6587\u4ef6\u65f6\uff0c\u5e76\u884c\u8bf7\u6c42\u7684\u6700\u5927\u6570\u76ee\u3002\u9ed8\u8ba4\u4e3a3\n            maxInitialRequests: 5,\n            // \u8868\u793a\u62c6\u5206\u51fa\u7684chunk\u7684\u540d\u79f0\u8fde\u63a5\u7b26\u3002\u9ed8\u8ba4\u4e3a~\u3002\u5982chunk~vendors.js\n            automaticNameDelimiter: '~',\n+           cacheGroups: {\n+               defaultVendors: false,\n+               default: false,\n+               common: {\n+                   minChunks: 1,\n+                   reuseExistingChunk: false\n+               }\n+           }\n        },\n+       runtimeChunk: false\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n            template: './src/index.html',\n            filename: 'index.html'\n        })\n        new AssetPlugin()\n    ]\n}",lang:"diff"})))}));n["default"]=e=>{var n=t.a.useContext(c["context"]),a=n.demos;return t.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.a.createElement(r,{demos:a})}}}]);