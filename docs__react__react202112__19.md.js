(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{niC1:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),c=t("dEAq"),o=t("H1Ra"),s=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"\u5b9e\u73b0usereducer"},r.a.createElement(c["AnchorLink"],{to:"#\u5b9e\u73b0usereducer","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0useReducer"),r.a.createElement("ul",null,r.a.createElement("li",null,"useState \u7684\u66ff\u4ee3\u65b9\u6848\u3002\u5b83\u63a5\u6536\u4e00\u4e2a\u5f62\u5982 (state, action) => newState \u7684 reducer\uff0c\u5e76\u8fd4\u56de\u5f53\u524d\u7684 state \u4ee5\u53ca\u4e0e\u5176\u914d\u5957\u7684 dispatch \u65b9\u6cd5"),r.a.createElement("li",null,"\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0cuseReducer \u4f1a\u6bd4 useState \u66f4\u9002\u7528\uff0c\u4f8b\u5982 state \u903b\u8f91\u8f83\u590d\u6742\u4e14\u5305\u542b\u591a\u4e2a\u5b50\u503c\uff0c\u6216\u8005\u4e0b\u4e00\u4e2a state \u4f9d\u8d56\u4e8e\u4e4b\u524d\u7684 state \u7b49")),r.a.createElement("h2",{id:"srcindexjs"},r.a.createElement(c["AnchorLink"],{to:"#srcindexjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src\\index.js"),r.a.createElement(o["a"],{code:"import React from './react';\nimport ReactDOM from './react-dom';\nfunction reducer(state={number:0}, action) {\n  switch (action.type) {\n    case 'ADD':\n      return {number: state.number + 1};\n    case 'MINUS':\n      return {number: state.number - 1};\n    default:\n      return state;\n  }\n}\n\nfunction Counter(){\n    const [state, dispatch] = React.useReducer(reducer,{number:0});\n    return (\n        <div>\n          Count: {state.number}\n          <button onClick={() => dispatch({type: 'ADD'})}>+</button>\n          <button onClick={() => dispatch({type: 'MINUS'})}>-</button>\n        </div>\n    )\n}\nReactDOM.render(\n  <Counter/>,\n  document.getElementById('root')\n);",lang:"js"}),r.a.createElement("h2",{id:"srcreact-domjs"},r.a.createElement(c["AnchorLink"],{to:"#srcreact-domjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src\\react-dom.js"),r.a.createElement(o["a"],{code:"// ...\n\n+ export function useReducer(reducer, initialState) {\n+   hookStates[hookIndex] = hookStates[hookIndex] || initialState;\n+   let currentIndex = hookIndex;\n+   function dispatch(action) {\n+     hookStates[currentIndex] = reducer ? reducer(hookStates[currentIndex], action) : action\n+     scheduleUpdate();\n+   }\n+   return [hookStates[hookIndex++], dispatch]\n+ }\n\nexport function useState(initialState) {\n+   return useReducer(null, initialState)\n}\n\n// ...",lang:"diff"}),r.a.createElement("h2",{id:"srcreactjs"},r.a.createElement(c["AnchorLink"],{to:"#srcreactjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src\\react.js"),r.a.createElement(o["a"],{code:"+import {useState,useMemo,useCallback,useReducer} from './react-dom';\nconst React = {\n    createElement,\n    Component,\n    PureComponent,\n    createRef,\n    createContext,\n    cloneElement,\n    memo,\n    useMemo,\n    useCallback,\n    useState,\n+   useReducer\n};\nexport default React;",lang:"diff"})))}));n["default"]=e=>{var n=r.a.useContext(c["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(s,{demos:t})}}}]);