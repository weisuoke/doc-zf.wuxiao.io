(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{"1aRD":function(e,n,r){"use strict";r.r(n);var a=r("q1tI"),t=r.n(a),o=r("dEAq"),c=r("H1Ra"),d=t.a.memo((e=>{e.demos;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u5b9e\u73b0\u4e09\u4e2a\u4e2d\u95f4\u4ef6\u7684\u7ea7\u8054"},t.a.createElement(o["AnchorLink"],{to:"#\u5b9e\u73b0\u4e09\u4e2a\u4e2d\u95f4\u4ef6\u7684\u7ea7\u8054","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0\u4e09\u4e2a\u4e2d\u95f4\u4ef6\u7684\u7ea7\u8054"),t.a.createElement("h2",{id:"srcreduxcomposejs"},t.a.createElement(o["AnchorLink"],{to:"#srcreduxcomposejs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"src\\redux\\compose.js"),t.a.createElement(c["a"],{code:"function compose(...funcs) {\n  if (funcs.length === 0) {\n    return args => args\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}\n\nexport default compose;",lang:"js"}),t.a.createElement("h2",{id:"srcreduxindexjs"},t.a.createElement(o["AnchorLink"],{to:"#srcreduxindexjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"src\\redux\\index.js"),t.a.createElement(c["a"],{code:"export { default as createStore } from './createStore'\nexport { default as bindActionCreators } from './bindActionCreators'\nexport { default as combineReducers } from './combineReducers'\nexport { default as applyMiddleware } from './applyMiddleware'\n+ export { default as compose } from './compose'",lang:"diff"}),t.a.createElement("h2",{id:"redux-logger"},t.a.createElement(o["AnchorLink"],{to:"#redux-logger","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"redux-logger"),t.a.createElement("p",null,"\u590d\u5236\u51fa\u4e09\u4e2a redux-logger"),t.a.createElement("h2",{id:"srcstoreindexjs"},t.a.createElement(o["AnchorLink"],{to:"#srcstoreindexjs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"src\\store\\index.js"),t.a.createElement(c["a"],{code:'import {applyMiddleware, createStore} from "../redux";\nimport combinedReducer from "./reducers";\n+ import logger1 from "./react-logger1";\n+ import logger2 from "./react-logger2";\n+ import logger3 from "./react-logger3";\n\n+ let store = applyMiddleware(logger1, logger2, logger3)(createStore)(combinedReducer)\n\nexport default store',lang:"diff"}),t.a.createElement("h3",{id:"srcreduxapplymiddlewarejs"},t.a.createElement(o["AnchorLink"],{to:"#srcreduxapplymiddlewarejs","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"src\\redux\\applyMiddleware.js"),t.a.createElement(c["a"],{code:"import compose from './compose'\n/**\n * \u5e94\u7528\u4e2d\u95f4\u4ef6\n * @returns {function(*): function(*, *): *&{dispatch: *}}\n * @param middleWares\n */\nfunction applyMiddleware(...middleWares) {\n  return function(createStore) {\n    return function(reducer, preloadedState) {\n      // \u521b\u5efa\u539f\u59cb\u7684\u4ed3\u5e93 store.dispatch \u662f\u6539\u9020\u524d\u7684 dispatch\n      let store = createStore(reducer)\n      // \u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\uff0c\u6539\u9020\u540e\u7684 dispatch \u51fd\u6570\uff0c\u6b64\u65f6\u5b83\u7684\u503c\u662f undefined.\n      // \u662f\u6539\u9020\u540e\u7684 dispatch\n      let dispatch;\n      // getState\n      let middlewareAPI = {\n        getState: store.getState,\n        dispatch: action => dispatch(action)  // *****\n      }\n      // \u5148\u628a\u6240\u6709\u7684\u4e2d\u95f4\u4ef6\u6267\u884c\u4e00\u6b21\uff0c\u628a\u5916\u5c42\u7684 store \u7528 middlewareAPI \u53bb\u6389\n      let chain = middleWares.map(middleWare => middleWare(middlewareAPI))\n      // \u628a\u8fd9\u4e9b\u4e2d\u95f4\u4ef6\u8fdb\u884c\u7ec4\u5408\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\n      dispatch = compose(...chain)(store.dispatch)\n      return {\n        ...store,\n        dispatch\n      }\n    }\n  }\n}\n\nexport default applyMiddleware",lang:"js"})))}));n["default"]=e=>{var n=t.a.useContext(o["context"]),r=n.demos;return t.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.a.createElement(d,{demos:r})}}}]);