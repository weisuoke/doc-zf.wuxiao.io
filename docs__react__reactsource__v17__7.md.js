(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{UJES:function(e,n,a){"use strict";a.r(n);var t=a("q1tI"),l=a.n(t),r=a("dEAq"),c=a("H1Ra"),i=a("dMo/"),o=l.a.memo((e=>{e.demos;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"1-monorepo\u7ba1\u7406"},l.a.createElement(r["AnchorLink"],{to:"#1-monorepo\u7ba1\u7406","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1. monorepo\u7ba1\u7406"),l.a.createElement("ul",null,l.a.createElement("li",null,"Monorepo \u662f\u7ba1\u7406\u9879\u76ee\u4ee3\u7801\u7684\u4e00\u4e2a\u65b9\u5f0f\uff0c\u6307\u5728\u4e00\u4e2a\u9879\u76ee\u4ed3\u5e93(repo)\u4e2d\u7ba1\u7406\u591a\u4e2a\u6a21\u5757/\u5305(package)"),l.a.createElement("li",null,"monorepo \u6700\u4e3b\u8981\u7684\u597d\u5904\u662f\u7edf\u4e00\u7684\u5de5\u4f5c\u6d41\u548c\u4ee3\u7801\u5171\u4eab"),l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://github.com/lerna/lerna"},"Lerna"),"\u662f\u4e00\u4e2a\u7ba1\u7406\u591a\u4e2a npm \u6a21\u5757\u7684\u5de5\u5177,\u4f18\u5316\u7ef4\u62a4\u591a\u5305\u7684\u5de5\u4f5c\u6d41\uff0c\u89e3\u51b3\u591a\u4e2a\u5305\u4e92\u76f8\u4f9d\u8d56\uff0c\u4e14\u53d1\u5e03\u9700\u8981\u624b\u52a8\u7ef4\u62a4\u591a\u4e2a\u5305\u7684\u95ee\u9898"),l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://classic.yarnpkg.com/en/docs/cli/"},"yarn"))),l.a.createElement("h3",{id:"11-multirepo"},l.a.createElement(r["AnchorLink"],{to:"#11-multirepo","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.1 MultiRepo"),l.a.createElement("h4",{id:"111-\u4f18\u70b9"},l.a.createElement(r["AnchorLink"],{to:"#111-\u4f18\u70b9","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.1.1 \u4f18\u70b9"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u5404\u6a21\u5757\u7684\u7ba1\u7406\u81ea\u7531\u5ea6\u8f83\u9ad8\uff0c\u53ef\u4ee5\u81ea\u884c\u9009\u62e9\u6784\u5efa\u5de5\u5177\u3001\u4f9d\u8d56\u7ba1\u7406\u3001\u5355\u5143\u6d4b\u8bd5\u7b49\u914d\u5957\u8bbe\u65bd"),l.a.createElement("li",null,"\u5404\u6a21\u5757\u7684\u4f53\u79ef\u4e5f\u4e0d\u4f1a\u592a\u5927")),l.a.createElement("h4",{id:"112-\u7f3a\u70b9"},l.a.createElement(r["AnchorLink"],{to:"#112-\u7f3a\u70b9","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.1.2 \u7f3a\u70b9"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4ed3\u5e93\u5206\u6563\u4e0d\u597d\u627e\uff0c\u5206\u652f\u7ba1\u7406\u6df7\u4e71"),l.a.createElement("li",null,"\u7248\u672c\u66f4\u65b0\u7e41\u7410\uff0c\u5982\u679c\u516c\u5171\u6a21\u5757\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u9700\u8981\u5bf9\u6240\u6709\u7684\u6a21\u5757\u8fdb\u884c\u4f9d\u8d56\u66f4\u65b0"),l.a.createElement("li",null,"CHANGELOG\u4e0d\u597d\u68b3\u7406\uff0c\u65e0\u6cd5\u81ea\u52a8\u5173\u8054\u5404\u4e2a\u6a21\u5757\u7684\u53d8\u52a8")),l.a.createElement("h3",{id:"12-monorepo"},l.a.createElement(r["AnchorLink"],{to:"#12-monorepo","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.2 MonoRepo"),l.a.createElement("h4",{id:"121-\u4f18\u70b9"},l.a.createElement(r["AnchorLink"],{to:"#121-\u4f18\u70b9","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.2.1 \u4f18\u70b9"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u4e00\u4e2a\u4ed3\u5e93\u7ef4\u62a4\u591a\u4e2a\u6a21\u5757\uff0c\u65b9\u4fbf\u597d\u627e"),l.a.createElement("li",null,"\u65b9\u4fbf\u7248\u672c\u7ba1\u7406\u548c\u4f9d\u8d56\u7ba1\u7406\uff0c\u6a21\u5757\u4e4b\u95f4\u7684\u5f15\u7528\u8c03\u8bd5\u90fd\u6bd4\u8f83\u65b9\u4fbf"),l.a.createElement("li",null,"\u65b9\u4fbf\u7edf\u4e00\u751f\u6210CHANGELOG")),l.a.createElement("h4",{id:"122-\u7f3a\u70b9"},l.a.createElement(r["AnchorLink"],{to:"#122-\u7f3a\u70b9","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.2.2 \u7f3a\u70b9"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u7edf\u4e00\u6784\u5efa\u5de5\u5177, \u9700\u8981\u6784\u5efa\u5de5\u5177\u80fd\u6784\u5efa\u6240\u7684\u6a21\u5757"),l.a.createElement("li",null,"\u4ed3\u5e93\u4f53\u79ef\u53d8\u5927")),l.a.createElement("h3",{id:"13-\u4f7f\u7528lerna"},l.a.createElement(r["AnchorLink"],{to:"#13-\u4f7f\u7528lerna","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3 \u4f7f\u7528lerna"),l.a.createElement("h4",{id:"131-\u5b89\u88c5lerna"},l.a.createElement(r["AnchorLink"],{to:"#131-\u5b89\u88c5lerna","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.1 \u5b89\u88c5lerna"),l.a.createElement(c["a"],{code:"npm i lerna -g",lang:"js"}),l.a.createElement("h4",{id:"132-\u521d\u59cb\u5316\u9879\u76ee"},l.a.createElement(r["AnchorLink"],{to:"#132-\u521d\u59cb\u5316\u9879\u76ee","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.2 \u521d\u59cb\u5316\u9879\u76ee"),l.a.createElement(c["a"],{code:"mkdir lerna-project\ncd lerna-project\n\nlerna init\nlerna notice cli v4.0.0\nlerna info Initializing Git repository\nlerna info Creating package.json\nlerna info Creating lerna.json\nlerna info Creating packages directory\nlerna success Initialized Lerna files",lang:"js"}),l.a.createElement("p",null,l.a.createElement("img",{src:"http://wuxiao-tech-doc.oss-cn-hangzhou.aliyuncs.com/2022-02-28-125809.png",alt:"lerna-init"})),l.a.createElement("h4",{id:"133-packagejson"},l.a.createElement(r["AnchorLink"],{to:"#133-packagejson","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.3 package.json"),l.a.createElement("p",null,"package.json"),l.a.createElement(c["a"],{code:'{\n  "name": "root",\n  "private": true, // \u79c1\u6709\u7684,\u7528\u6765\u7ba1\u7406\u6574\u4e2a\u9879\u76ee,\u4e0d\u4f1a\u88ab\u53d1\u5e03\u5230npm\n  "devDependencies": {\n    "lerna": "^4.0.0"\n  }\n}',lang:"json"}),l.a.createElement("h4",{id:"134-lernajson"},l.a.createElement(r["AnchorLink"],{to:"#134-lernajson","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4 lerna.json"),l.a.createElement("p",null,"lerna.json"),l.a.createElement(c["a"],{code:'{\n  "packages": [\n    "packages/*"\n  ],\n  "version": "0.0.0"\n}',lang:"json"}),l.a.createElement("h3",{id:"14-yarn-workspace"},l.a.createElement(r["AnchorLink"],{to:"#14-yarn-workspace","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.4 yarn workspace"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("code",null,"yarn workspace"),"\u5141\u8bb8\u6211\u4eec\u4f7f\u7528 ",l.a.createElement("code",null,"monorepo")," \u7684\u5f62\u5f0f\u6765\u7ba1\u7406\u9879\u76ee"),l.a.createElement("li",null,"\u5728\u5b89\u88c5 node_modules \u7684\u65f6\u5019\u5b83\u4e0d\u4f1a\u5b89\u88c5\u5230\u6bcf\u4e2a\u5b50\u9879\u76ee\u7684 node_modules \u91cc\u9762\uff0c\u800c\u662f\u76f4\u63a5\u5b89\u88c5\u5230\u6839\u76ee\u5f55\u4e0b\u9762\uff0c\u8fd9\u6837\u6bcf\u4e2a\u5b50\u9879\u76ee\u90fd\u53ef\u4ee5\u8bfb\u53d6\u5230\u6839\u76ee\u5f55\u7684 node_modules"),l.a.createElement("li",null,"\u6574\u4e2a\u9879\u76ee\u53ea\u6709\u6839\u76ee\u5f55\u4e0b\u9762\u4f1a\u6709\u4e00\u4efd ",l.a.createElement("code",null,"yarn.lock")," \u6587\u4ef6\u3002\u5b50\u9879\u76ee\u4e5f\u4f1a\u88ab ",l.a.createElement("code",null,"link")," \u5230 ",l.a.createElement("code",null,"node_modules")," \u91cc\u9762\uff0c\u8fd9\u6837\u5c31\u5141\u8bb8\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u7528 import \u5bfc\u5165\u5bf9\u5e94\u7684\u9879\u76ee"),l.a.createElement("li",null,l.a.createElement("code",null,"yarn.lock"),"\u6587\u4ef6\u662f\u81ea\u52a8\u751f\u6210\u7684,\u4e5f\u5b8c\u5168Yarn\u6765\u5904\u7406.",l.a.createElement("code",null,"yarn.lock"),"\u9501\u5b9a\u4f60\u5b89\u88c5\u7684\u6bcf\u4e2a\u4f9d\u8d56\u9879\u7684\u7248\u672c\uff0c\u8fd9\u53ef\u4ee5\u786e\u4fdd\u4f60\u4e0d\u4f1a\u610f\u5916\u83b7\u5f97\u4e0d\u826f\u4f9d\u8d56")),l.a.createElement("h4",{id:"141-\u5f00\u542fworkspace"},l.a.createElement(r["AnchorLink"],{to:"#141-\u5f00\u542fworkspace","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.4.1 \u5f00\u542fworkspace"),l.a.createElement("p",null,"package.json"),l.a.createElement(c["a"],{code:'{\n  "name": "root",\n  "private": true, \n+  "workspaces": [\n+    "packages/*"\n+  ],\n  "devDependencies": {\n    "lerna": "^3.22.1"\n  }\n}',lang:"diff"}),l.a.createElement("h4",{id:"132-\u521b\u5efa\u5b50\u9879\u76ee"},l.a.createElement(r["AnchorLink"],{to:"#132-\u521b\u5efa\u5b50\u9879\u76ee","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.2 \u521b\u5efa\u5b50\u9879\u76ee"),l.a.createElement("ul",null,l.a.createElement("li",null,"react\u662fReact\u6838\u5fc3\uff0c\u5305\u542b\u4e86",l.a.createElement("code",null,"React.createElement"),"\u7b49\u4ee3\u7801"),l.a.createElement("li",null,"shared \u5b58\u653e\u5404\u4e2a\u6a21\u5757\u516c\u7528\u7684\u5168\u5c40\u53d8\u91cf\u548c\u65b9\u6cd5"),l.a.createElement("li",null,"scheduler \u5b9e\u73b0\u4e86\u4f18\u5148\u7ea7\u8c03\u5ea6\u529f\u80fd"),l.a.createElement("li",null,"react-reconciler \u63d0\u4f9b\u4e86\u534f\u8c03\u5668\u7684\u529f\u80fd"),l.a.createElement("li",null,"react-dom \u63d0\u4f9b\u4e86\u6e32\u67d3\u5230DOM\u7684\u529f\u80fd")),l.a.createElement(c["a"],{code:"lerna create react\nlerna create shared\nlerna create scheduler\nlerna create react-reconciler\nlerna create react-dom",lang:"js"}),l.a.createElement("h4",{id:"133-\u6dfb\u52a0\u4f9d\u8d56"},l.a.createElement(r["AnchorLink"],{to:"#133-\u6dfb\u52a0\u4f9d\u8d56","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.3 \u6dfb\u52a0\u4f9d\u8d56"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://classic.yarnpkg.com/en/docs/cli"},"yarnpkg")),l.a.createElement("li",null,l.a.createElement(r["Link"],{to:"https://github.com/lerna/lerna#readme"},"lerna"))),l.a.createElement("h5",{id:"1331-\u8bbe\u7f6e\u52a0\u901f\u955c\u50cf"},l.a.createElement(r["AnchorLink"],{to:"#1331-\u8bbe\u7f6e\u52a0\u901f\u955c\u50cf","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.3.1 \u8bbe\u7f6e\u52a0\u901f\u955c\u50cf"),l.a.createElement(c["a"],{code:"yarn config get registry\nyarn config set registry http://registry.npm.taobao.org/\nyarn config set registry http://registry.npmjs.org/",lang:"js"}),l.a.createElement("h4",{id:"134-\u5e38\u7528\u547d\u4ee4"},l.a.createElement(r["AnchorLink"],{to:"#134-\u5e38\u7528\u547d\u4ee4","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4 \u5e38\u7528\u547d\u4ee4"),l.a.createElement("h5",{id:"1341-\u6839\u7a7a\u95f4\u6dfb\u52a0\u4f9d\u8d56"},l.a.createElement(r["AnchorLink"],{to:"#1341-\u6839\u7a7a\u95f4\u6dfb\u52a0\u4f9d\u8d56","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4.1 \u6839\u7a7a\u95f4\u6dfb\u52a0\u4f9d\u8d56"),l.a.createElement(c["a"],{code:"yarn add chalk --ignore-workspace-root-check",lang:"js"}),l.a.createElement("h5",{id:"1342-\u7ed9\u67d0\u4e2a\u9879\u76ee\u6dfb\u52a0\u4f9d\u8d56"},l.a.createElement(r["AnchorLink"],{to:"#1342-\u7ed9\u67d0\u4e2a\u9879\u76ee\u6dfb\u52a0\u4f9d\u8d56","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4.2 \u7ed9\u67d0\u4e2a\u9879\u76ee\u6dfb\u52a0\u4f9d\u8d56"),l.a.createElement(c["a"],{code:"yarn workspace react add object-assign",lang:"js"}),l.a.createElement("h5",{id:"1343-\u5b89\u88c5\u548clink"},l.a.createElement(r["AnchorLink"],{to:"#1343-\u5b89\u88c5\u548clink","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4.3 \u5b89\u88c5\u548clink"),l.a.createElement(c["a"],{code:"yarn install\nlerna bootstrap --npm-client yarn --use-workspaces",lang:"js"}),l.a.createElement("h5",{id:"1344-\u5176\u5b83\u547d\u4ee4"},l.a.createElement(r["AnchorLink"],{to:"#1344-\u5176\u5b83\u547d\u4ee4","aria-hidden":"true",tabIndex:-1},l.a.createElement("span",{className:"icon icon-link"})),"1.3.4.4 \u5176\u5b83\u547d\u4ee4"),l.a.createElement(i["a"],null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{align:"left"},"\u4f5c\u7528"),l.a.createElement("th",{align:"left"},"\u547d\u4ee4"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"\u67e5\u770b\u5de5\u4f5c\u7a7a\u95f4\u4fe1\u606f"),l.a.createElement("td",{align:"left"},"yarn workspaces info")),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"\u5220\u9664\u6240\u6709\u7684 node_modules"),l.a.createElement("td",{align:"left"},"lerna clean \u7b49\u4e8e yarn workspaces run clean")),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"\u91cd\u65b0\u83b7\u53d6\u6240\u6709\u7684 node_modules"),l.a.createElement("td",{align:"left"},"yarn install --force")),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"\u67e5\u770b\u7f13\u5b58\u76ee\u5f55"),l.a.createElement("td",{align:"left"},"yarn cache dir")),l.a.createElement("tr",null,l.a.createElement("td",{align:"left"},"\u6e05\u9664\u672c\u5730\u7f13\u5b58"),l.a.createElement("td",{align:"left"},"yarn cache clean"))))))}));n["default"]=e=>{var n=l.a.useContext(r["context"]),a=n.demos;return l.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.a.createElement(o,{demos:a})}},WpQk:function(e,n,a){},"dMo/":function(e,n,a){"use strict";var t=a("q1tI"),l=a.n(t),r=a("hKI/"),c=a.n(r);a("WpQk");function i(e,n){return E(e)||d(e,n)||m(e,n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,n){if(e){if("string"===typeof e)return s(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function d(e,n){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,l,r=[],c=!0,i=!1;try{for(a=a.call(e);!(c=(t=a.next()).done);c=!0)if(r.push(t.value),n&&r.length===n)break}catch(o){i=!0,l=o}finally{try{c||null==a["return"]||a["return"]()}finally{if(i)throw l}}return r}}function E(e){if(Array.isArray(e))return e}var u=function(e){var n=e.children,a=Object(t["useRef"])(),r=Object(t["useState"])(!1),o=i(r,2),m=o[0],s=o[1],d=Object(t["useState"])(!1),E=i(d,2),u=E[0],h=E[1];return Object(t["useEffect"])((function(){var e=a.current,n=c()((function(){s(e.scrollLeft>0),h(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return n(),e.addEventListener("scroll",n),window.addEventListener("resize",n),function(){e.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[]),l.a.createElement("div",{className:"__dumi-default-table"},l.a.createElement("div",{className:"__dumi-default-table-content",ref:a,"data-left-folded":m||void 0,"data-right-folded":u||void 0},l.a.createElement("table",null,n)))};n["a"]=u}}]);