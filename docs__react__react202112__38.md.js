(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{ZoLp:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),o=t("dEAq"),c=t("H1Ra"),s=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"\u5b9e\u73b0bindactioncreators"},r.a.createElement(o["AnchorLink"],{to:"#\u5b9e\u73b0bindactioncreators","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0bindActionCreators"),r.a.createElement("h3",{id:"srcindexjs"},r.a.createElement(o["AnchorLink"],{to:"#srcindexjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src\\index.js"),r.a.createElement(c["a"],{code:"import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Counter1 from './components/Counter1'\n\nReactDOM.render(<Counter1 />, document.getElementById('root'))",lang:"js"}),r.a.createElement("h3",{id:"counter1js"},r.a.createElement(o["AnchorLink"],{to:"#counter1js","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Counter1.js"),r.a.createElement("p",null,"src\\components\\Counter1.js"),r.a.createElement(c["a"],{code:'import React from \'react\'\nimport store from "../store";\nimport { bindActionCreators } from "redux";\nimport actionCreators from "../store/actionCreators/counter1";\n\n// \u628a\u4e00\u4e2a action \u521b\u5efa\u8005\u5bf9\u8c61\u548c store.dispatch \u8fdb\u884c\u7ed1\u5b9a\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\nconst boundActions = bindActionCreators(actionCreators, store.dispatch)\n\nfunction Counter1() {\n  let [state, setState] = React.useState(store.getState)\n  React.useEffect(() => {\n    store.subscribe(() => {\n      setState(store.getState())\n    })\n  }, [])\n  return (\n    <div>\n      <p>{store.getState().number}</p>\n      <button onClick={boundActions.add}>+</button>\n      <button onClick={boundActions.minus}>-</button>\n    </div>\n  )\n}\n\nexport default Counter1\n\n/**\n * \u7ec4\u4ef6\u548c\u4ed3\u5e93\u6709\u4e24\u79cd\u5173\u7cfb\n * \u4e00\u79cd\u8f93\u5165 \u7ec4\u4ef6\u53ef\u4ee5\u4ece\u4ed3\u5e93\u4e2d\u8bfb\u53d6\u72b6\u6001\u6570\u636e\u8fdb\u884c\u6e32\u67d3\u548c\u663e\u793a\n * \u4e00\u79cd\u53eb\u8f93\u51fa \u53ef\u4ee5\u5728\u7ec4\u4ef6\u6d3e\u53d1\u52a8\u4f5c\uff0c\u4fee\u6539\u4ed3\u5e93\u4e2d\u7684\u72b6\u6001\n */',lang:"js"}),r.a.createElement("h3",{id:"srcstoreindexjs"},r.a.createElement(o["AnchorLink"],{to:"#srcstoreindexjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src/store/index.js"),r.a.createElement(c["a"],{code:"import { createStore } from \"../redux\";\nimport * as actionType from './action-types'\n\n/**\n * \u72b6\u6001\u8ba1\u7b97\u5668\n * @param state \u8001\u72b6\u6001\n * @param action \u52a8\u4f5c \u5fc5\u987b\u6709\u4e00\u4e2atype\u5c5e\u6027\n */\nfunction reducer(state, action) {\n  switch (action.type) {\n    case actionType.ADD:\n      return { number: state.number + 1 }\n    case actionType.MINUS:\n      return { number: state.number - 1 }\n    default:\n      return state\n  }\n}\n\nlet store = createStore(reducer, { number: 0 });\nwindow.store = store;\nexport default store",lang:"js"}),r.a.createElement("h3",{id:"srcstoreactioncreatorscounter1js"},r.a.createElement(o["AnchorLink"],{to:"#srcstoreactioncreatorscounter1js","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"src/store/actionCreators/counter1.js"),r.a.createElement(c["a"],{code:'import * as actionType from "../action-types";\n\nfunction add() {\n  return { type: actionType.ADD }\n}\n\nfunction minus() {\n  return { type: actionType.MINUS }\n}\n\nconst actionCreators = { add, minus }\n\nexport default actionCreators',lang:"js"}),r.a.createElement("h3",{id:"bindactioncreators"},r.a.createElement(o["AnchorLink"],{to:"#bindactioncreators","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"bindActionCreators"),r.a.createElement("p",null,"src/redux/bindActionCreators.js"),r.a.createElement(c["a"],{code:"/**\n * \u7ed1\u5b9a actionCreator \u548c store.dispatch\uff0c\u53ef\u4ee5\u5b9e\u73b0\u81ea\u52a8\u6d3e\u53d1\n * @param actionCreators\n * @param dispatch\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  const boundActionCreators = {}\n\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key]\n    boundActionCreators[key] = bindActionCreator(actionCreator, dispatch)\n  }\n\n  return boundActionCreators\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function (...args) {\n    return dispatch(actionCreator(...args))\n  }\n}\n\nexport default bindActionCreators",lang:"js"}),r.a.createElement("h3",{id:"storeaction-typesjs"},r.a.createElement(o["AnchorLink"],{to:"#storeaction-typesjs","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"store/action-types.js"),r.a.createElement(c["a"],{code:"export const ADD = 'ADD';\nexport const MINUS = 'MINUS'",lang:"js"})))}));n["default"]=e=>{var n=r.a.useContext(o["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(s,{demos:t})}}}]);