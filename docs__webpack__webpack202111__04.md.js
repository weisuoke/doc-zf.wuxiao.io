(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[68],{"GL/u":function(e,n,a){"use strict";a.r(n);var r=a("q1tI"),t=a.n(r),c=a("dEAq"),o=a("H1Ra"),s=t.a.memo((e=>{e.demos;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"markdown"},t.a.createElement("h1",{id:"\u914d\u7f6edevserver"},t.a.createElement(c["AnchorLink"],{to:"#\u914d\u7f6edevserver","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6edevServer"),t.a.createElement(o["a"],{code:'{\n\t// ...\n  devServer: {\n    port: 8080, // \u914d\u7f6e\u5f00\u53d1\u9884\u89c8\u670d\u52a1\u5668\u7684\u7aef\u53e3\u53f7 8080\n    open: true, // \u6253\u5305\u540e\u4f1a\u81ea\u52a8\u6253\u5f00\u6d4f\u89c8\u5668\n+    proxy: {\n+      // \u628a\u8bbf\u95ee\u8def\u5f84\u662f\u4ee5 /api \u5f00\u5934\u7684\u8bf7\u6c42\u90fd\u8f6c\u53d1\u5230 3000\n+      \'/api\': {\n+        target: \'http://localhost:3000\',  // \u91cd\u5b9a\u5411\u7684\u57df\u540d\n+        pathRewrite: {  // \u91cd\u5199\u7684\u8def\u5f84\n+          "^/api": ""\n+        }\n+      }\n+    },\n+    // \u5728webpack-dev-server \u9759\u6001\u8d44\u6e90\u4e2d\u95f4\u4ef6\u5904\u7406\u4e4b\u524d\uff0c\u53ef\u4ee5\u7528\u4e8e\u62e6\u622a\u90e8\u5206\u8bf7\u6c42\u8fd4\u56de\u7279\u5b9a\u5185\u5bb9\uff0c\u4ee5\u5b9e\u73b0\u7b80\u5355\u7684 mock\n+    onBeforeSetupMiddleware({ app }) {\n+      app.get(\'/api/users2\', (req, res) => {\n+        res.json([{ id: 1, name: "\u5f20\u4e09" }, {id: 2, name: "\u674e\u56db"}])\n+      })\n+    }\n+  },\n\t// ...\n}',lang:"diff"}),t.a.createElement("h2",{id:"webpack-dev-server-\u7684\u539f\u7406"},t.a.createElement(c["AnchorLink"],{to:"#webpack-dev-server-\u7684\u539f\u7406","aria-hidden":"true",tabIndex:-1},t.a.createElement("span",{className:"icon icon-link"})),"webpack-dev-server \u7684\u539f\u7406"),t.a.createElement("p",null,"middleware.js"),t.a.createElement(o["a"],{code:"/**\n * \u6211\u73b0\u5728\u5728\u624b\u5199 webpack-dev-server\n */\n\nlet express = require('express')\n// \u5f97\u5230 app \u5e94\u7528\u5bf9\u8c61\nconst app = express();\nconst webpack = require('webpack')\nconst webpackDevMiddleware = require('webpack-dev-middleware')\nconst config = require('./webpack.config')\n// compiler \u5c31\u662f\u7f16\u8bd1\u5927\u7ba1\u5bb6\nconst compiler = webpack(config)\n\napp.get('/api/users', (req, res) => {\n  res.json([\n    {id: 1, name: '\u5f20\u4e09'},\n    {id: 2, name: '\u674e\u56db'}\n  ])\n})\n\n// webpackDevMiddleware \u4f1a\u8fd4\u56de\u4e00\u4e2a\u4e2d\u95f4\u4ef6\n// \u4e2d\u95f4\u4ef6\u8d1f\u8d23\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u6253\u5305\u5f53\u524d\u7684\u9879\u76ee\u5e76\u4e14\u8fd4\u56de\u6253\u5305\u540e\u7684\u7ed3\u679c\n// 1. \u8d1f\u8d23\u6253\u5305\n// 2. \u8fd4\u56de\u6253\u5305\u540e\u7684\u9759\u6001\u6587\u4ef6 index.html main.js\napp.use(webpackDevMiddleware(compiler))\n\napp.listen(3001)",lang:"js"})))}));n["default"]=e=>{var n=t.a.useContext(c["context"]),a=n.demos;return t.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&c["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.a.createElement(s,{demos:a})}}}]);