(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[88],{a0Kb:function(e,n,s){"use strict";s.r(n);var t=s("q1tI"),a=s.n(t),l=s("dEAq"),r=s("H1Ra"),c=a.a.memo((e=>{e.demos;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"markdown"},a.a.createElement("h1",{id:"\u4f18\u5316\u56fe\u7247\u548ccss"},a.a.createElement(l["AnchorLink"],{to:"#\u4f18\u5316\u56fe\u7247\u548ccss","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"\u4f18\u5316\u56fe\u7247\u548cCSS"),a.a.createElement("h2",{id:"1-\u63d0\u53d6css"},a.a.createElement(l["AnchorLink"],{to:"#1-\u63d0\u53d6css","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1. \u63d0\u53d6CSS"),a.a.createElement("ul",null,a.a.createElement("li",null,"\u56e0\u4e3aCSS\u7684\u4e0b\u8f7d\u548cJS\u53ef\u4ee5\u5e76\u884c,\u5f53\u4e00\u4e2aHTML\u6587\u4ef6\u5f88\u5927\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u628aCSS\u5355\u72ec\u63d0\u53d6\u51fa\u6765\u52a0\u8f7d")),a.a.createElement("h3",{id:"11-\u5b89\u88c5"},a.a.createElement(l["AnchorLink"],{to:"#11-\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1.1 \u5b89\u88c5"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://github.com/webpack-contrib/mini-css-extract-plugin"},"mini-css-extract-plugin"))),a.a.createElement(r["a"],{code:"npm install  mini-css-extract-plugin --save-dev",lang:"shell"}),a.a.createElement("h3",{id:"12-webpackconfigjs"},a.a.createElement(l["AnchorLink"],{to:"#12-webpackconfigjs","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"1.2 webpack.config.js"),a.a.createElement("p",null,"webpack.config.js"),a.a.createElement(r["a"],{code:"const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n+const MiniCssExtractPlugin = require('mini-css-extract-plugin');\nmodule.exports = {\n  mode: 'development',\n  devtool: false,\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].js',\n+    publicPath: '/'\n  },\n  module: {\n    rules: [\n      { test: /\\.txt$/, use: 'raw-loader' },\n+      { test: /\\.css$/, use: [MiniCssExtractPlugin.loader, 'css-loader'] },\n+      { test: /\\.less$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'less-loader'] },\n+      { test: /\\.scss$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'sass-loader'] },\n       {\n        test: /\\.(jpg|png|gif|bmp|svg)$/,\n        type:'asset/resource',\n        generator:{\n          filename:'images/[hash][ext]'\n        }\n      }\n    ]\n  },\n  plugins: [\n    new HtmlWebpackPlugin({ template: './src/index.html' }),\n+   new MiniCssExtractPlugin({\n+      filename: '[name].css'\n+   })\n  ]\n};",lang:"diff"}),a.a.createElement("h2",{id:"2-\u6307\u5b9a\u56fe\u7247\u548ccss\u76ee\u5f55"},a.a.createElement(l["AnchorLink"],{to:"#2-\u6307\u5b9a\u56fe\u7247\u548ccss\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2 \u6307\u5b9a\u56fe\u7247\u548cCSS\u76ee\u5f55"),a.a.createElement("h3",{id:"21-webpackconfigjs"},a.a.createElement(l["AnchorLink"],{to:"#21-webpackconfigjs","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"2.1 webpack.config.js"),a.a.createElement(r["a"],{code:"const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\nmodule.exports = {\n  mode: 'development',\n  devtool: false,\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].js',\n    publicPath: '/'\n  },\n  module: {\n    rules: [\n      { test: /\\.txt$/, use: 'raw-loader' },\n      { test: /\\.css$/, use: [MiniCssExtractPlugin.loader, 'css-loader'] },\n      { test: /\\.less$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'less-loader'] },\n      { test: /\\.scss$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'sass-loader'] },\n      {\n        test: /\\.(jpg|png|gif|bmp|svg)$/,\n        type:'asset/resource',\n        generator:{\n          filename:'images/[hash][ext]'\n        }\n      }\n    ]\n  },\n  plugins: [\n    new HtmlWebpackPlugin({ template: './src/index.html' }),\n    new MiniCssExtractPlugin({\n+      filename: 'css/[name].css'\n    }),\n  ]\n};",lang:"diff"}),a.a.createElement("h3",{id:"3-\u538b\u7f29jscss\u548chtml"},a.a.createElement(l["AnchorLink"],{to:"#3-\u538b\u7f29jscss\u548chtml","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"3. \u538b\u7f29JS\u3001CSS\u548cHTML"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://www.npmjs.com/package/optimize-css-assets-webpack-plugin"},"optimize-css-assets-webpack-plugin"),"\u662f\u4e00\u4e2a\u4f18\u5316\u548c\u538b\u7f29CSS\u8d44\u6e90\u7684\u63d2\u4ef6"),a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://www.npmjs.com/package/terser-webpack-plugin"},"terser-webpack-plugin"),"\u662f\u4e00\u4e2a\u4f18\u5316\u548c\u538b\u7f29JS\u8d44\u6e90\u7684\u63d2\u4ef6")),a.a.createElement("p",null,"webpack.config.js"),a.a.createElement(r["a"],{code:"const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n+const OptimizeCssAssetsWebpackPlugin = require('optimize-css-assets-webpack-plugin');\n+const TerserPlugin = require('terser-webpack-plugin');\n\nmodule.exports = {\n+  mode: 'none',\n  devtool: false,\n  entry: './src/index.js',\n+  optimization: {\n+    minimize: true,\n+    minimizer: [\n+      new TerserPlugin(),\n+    ],\n+  },\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].js',\n    publicPath: '/',\n  },\n  devServer: {\n    contentBase: path.resolve(__dirname, 'dist'),\n    compress: true,\n    port: 8080,\n    open: true,\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.jsx?$/,\n        loader: 'eslint-loader',\n        enforce: 'pre',\n        options: { fix: true },\n        exclude: /node_modules/,\n      },\n      {\n        test: /\\.jsx?$/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: [[\n              '@babel/preset-env',\n              {\n                useBuiltIns: 'usage'\n                corejs: {\n                  version: 3\n                },\n                targets: {\n                  chrome: '60',\n                  firefox: '60',\n                  ie: '9',\n                  safari: '10',\n                  edge: '17',\n                },\n              },\n            ], '@babel/preset-react'],\n            plugins: [\n              ['@babel/plugin-proposal-decorators', { legacy: true }],\n              ['@babel/plugin-proposal-class-properties', { loose: true }],\n            ],\n          },\n        },\n        include: path.join(__dirname, 'src'),\n        exclude: /node_modules/,\n      },\n      { test: /\\.txt$/, use: 'raw-loader' },\n      { test: /\\.css$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader'] },\n      { test: /\\.less$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader', 'less-loader'] },\n      { test: /\\.scss$/, use: [MiniCssExtractPlugin.loader, 'css-loader', 'postcss-loader', 'sass-loader'] },\n      {\n        test: /\\.(jpg|png|gif|bmp|svg)$/,\n        type:'asset/resource',\n        generator:{\n          filename:'images/[hash][ext]'\n        }\n      },\n      {\n        test: /\\.html$/,\n        loader: 'html-loader',\n      },\n    ],\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n    template: './src/index.html',\n+     minify: {  \n+        collapseWhitespace: true,\n+        removeComments: true\n      }\n    }),\n    new MiniCssExtractPlugin({\n      filename: 'css/[name].css',\n    }),\n+    new OptimizeCssAssetsWebpackPlugin(),\n  ],\n};",lang:"diff"}),a.a.createElement("h2",{id:"4-purgecss-webpack-plugin"},a.a.createElement(l["AnchorLink"],{to:"#4-purgecss-webpack-plugin","aria-hidden":"true",tabIndex:-1},a.a.createElement("span",{className:"icon icon-link"})),"4. purgecss-webpack-plugin"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://www.npmjs.com/package/purgecss-webpack-plugin"},"purgecss-webpack-plugin")),a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://www.npmjs.com/package/mini-css-extract-plugin"},"mini-css-extract-plugin")),a.a.createElement("li",null,a.a.createElement(l["Link"],{to:"https://www.purgecss.com/"},"purgecss")),a.a.createElement("li",null,"\u53ef\u4ee5\u53bb\u9664\u672a\u4f7f\u7528\u7684 css\uff0c\u4e00\u822c\u4e0e glob\u3001glob-all \u914d\u5408\u4f7f\u7528"),a.a.createElement("li",null,"\u5fc5\u987b\u548c",a.a.createElement("code",null,"mini-css-extract-plugin"),"\u914d\u5408\u4f7f\u7528"),a.a.createElement("li",null,a.a.createElement("code",null,"paths"),"\u8def\u5f84\u662f\u7edd\u5bf9\u8def\u5f84")),a.a.createElement(r["a"],{code:"npm i  purgecss-webpack-plugin mini-css-extract-plugin css-loader glob -D",lang:"js"}),a.a.createElement("p",null,"webpack.config.js"),a.a.createElement(r["a"],{code:'const path = require("path");\n+const glob = require("glob");\n+const PurgecssPlugin = require("purgecss-webpack-plugin");\n+const MiniCssExtractPlugin = require(\'mini-css-extract-plugin\');\nconst PATHS = {\n  src: path.join(__dirname, \'src\')\n}\nmodule.exports = {\n  mode: "development",\n  entry: "./src/index.js",\n  module: {\n    rules: [\n      {\n        test: /\\.js/,\n        include: path.resolve(__dirname, "src"),\n        use: [\n          {\n            loader: "babel-loader",\n            options: {\n              presets: ["@babel/preset-env", "@babel/preset-react"],\n            },\n          },\n        ],\n      },\n+      {\n+        test: /\\.css$/,\n+        include: path.resolve(__dirname, "src"),\n+        exclude: /node_modules/,\n+        use: [\n+          {\n+            loader: MiniCssExtractPlugin.loader,\n+          },\n+          "css-loader",\n+        ],\n+      },\n    ],\n  },\n  plugins: [\n+    new MiniCssExtractPlugin({\n+      filename: "[name].css",\n+    }),\n+    new PurgecssPlugin({\n+      paths: glob.sync(`${PATHS.src}/**/*`,  { nodir: true }),\n+    })\n  ],\n};',lang:"diff"}),a.a.createElement("p",null,"style.css"),a.a.createElement(r["a"],{code:"#root{\n    color: red;\n}\n#logo{\n    color:green\n}",lang:"css"})))}));n["default"]=e=>{var n=a.a.useContext(l["context"]),s=n.demos;return a.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),a.a.createElement(c,{demos:s})}}}]);